<!DOCTYPE html>

<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>OpenCV: Shapes - Rectangles and Ellipses - DCPrime's Blog </title>
  <meta name="viewport" content="width=device-width">

  <link href='/feed.xml' rel='alternate' type='application/rss+xml'>
<meta name="description" content="Hello everyone! I am Darshil
Chanpura, a geek who is into many things related to many different
platforms. I have been working with Raspberry Pi recently and some
of the posts are like projects and are really interesting do try
them. In my free time I learn about different programming
platforms such as Django - Python based framework, Twitter API,
PHP, HTML5 with CSS3 and little bit of JS and also trying out
things like working with databases. Recently I learned most of the
things about PHP when I started using my raspi as web-server and
it's kinda cool and you can say 'I have a server setup at my
place...'">
<!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">
        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css" media="screen">
        <link rel="stylesheet" href="/css/fonts.css">
        <!--<link rel="stylesheet" href="/fonts/Lato-Regular.css">-->
        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-47877573-1']);
          _gaq.push(['_trackPageview']);
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();

        </script>
</head>
<body>
      <div class="site">
        <div class="headbar">
          <h1><span class="group"><div class="dark">DCPrime's</div><div class="light">Blog</div></span></h1>
          <div class="navbar">
            <a href="/">Blog</a>
            <a class="extra" href="/about.html">About</a>
            <a class="extra" href="/resume/">Resume</a>
            <a class="extra" href="/projects.html">Projects</a>
            <br />
          </div>
        </div>

        <h2>OpenCV: Shapes - Rectangles and Ellipses</h2>
<div class="meta">
Published on 20 Nov 2013
</div><br>
<div class="post">
<p>A new post! Sorry if I am taking long long very long gaps in between two posts but there are many different academic activities like attending lectures, preparing for exams and finally giving those exams. Enough from my life we should better start with the Rectangle and Ellipse</p>

<p>For drawing these shapes one should know what they are actually. Rectangle is a square with two pairs of different lengths. As shown :-P.</p>

<div class="container">
<a href="http://www.theknockoffeconomy.com/wp-content/uploads/2012/10/rectangle.gif"><imgs src="http://www.theknockoffeconomy.com/wp-content/uploads/2012/10/rectangle.gif" width="420" height="259" /></a>
</div>

<p>So how can we draw it? This is the big question. For that Drawing Functions used are <code>rectangle();</code> OpenCV allows us to draw a rectangle with just two points here any two opposite points. This will draw the rectangle in these form as shown above. </p>

<pre><code>void rectangle(img,pt1,pt2,color,thickness=1,lineType=8,shift=0)
cv2.rectangle(img, pt1, pt2, color[, thickness[, lineType[, shift]]])</code></pre>

<p>Here this <code>pt1</code> and <code>pt2</code> are <code>Point</code> the following code explains all with comments.</p>

<pre><code>void main()
{
  Mat image = Mat::zeros(400, 400, CV_8UC3); 
  //Creating an Image of size 400x400 8bit x 3layers
  rectangle(image,Point(100,100),Point(300,200),Scalar(255,255,0),1,8,0);
  //two points as (100,100) and (300,200) with color Cyan (255,255,0)
  namedWindow("Display Image", CV_WINDOW_AUTOSIZE);
  imshow("Display Image", image);
  //Displaying the image in a Window named Display Image
  waitKey(0);
  //#Required!!
}</code></pre>

<p>Now explanation goes this way that we are passing the argument as an <code>Mat image</code> and it gets edited according to the draw a rectangle of size as given by two points. These points are of class <code>Point</code> which has two values x and y which can be defined as <code>Point(x,y)</code> its constructor. We have not used any type of variable to store it but we can do it if we want.</p>

<p>Taking an example of object detection I wanted to draw a rectangle of the size of that object I need atleast two points. These points are coming from the processing of static background and the real-time frame this is quite different and tough though so will discuss it sometime later and coming back to shapes we have made a rectangle in this <code>image</code>.</p>

<p>Now I have one question for you all. Why is this (255,255,0) is cyan and not yellow?? If you can answer this its a big accomplishment for me!</p>

<p>This is the description of various arguments used here (from <a href="http://docs.opencv.org/modules/core/doc/drawing_functions.html#rectangle">OpenCV Documentation</a>)</p>

<pre><code>img – Image.
pt1 – Vertex of the rectangle.
pt2 – Vertex of the rectangle opposite to pt1 .
rec – Alternative specification of the drawn rectangle.
color – Rectangle color or brightness (grayscale image).
thickness – Thickness of lines that make up the rectangle. Negative values, like CV_FILLED , mean that the function has to draw a filled rectangle.
lineType – Type of the line. See the line() description.
shift – Number of fractional bits in the point coordinates.</code></pre>

<p>Following is the python code if some on wants to work on it. Its almost the same.</p>

<pre><code>from cv2.cv import * # importing all the opencv libraries
img=CreateMat(600,600,CV_8UC3) # creating blank image of 400x400 pixels
Rectangle(img,(img.rows/2,img.cols/3),(img.rows/3,img.cols/2),(255,255,255), 3) 
ShowImage("Display",img) # Displaying the image ... 
WaitKey(0)</code></pre>

<p>Now we come to the second part of the Post </p>

<h2>Ellipse:</h2>

<pre><code>void ellipse(Mat img, center, Size axes, double angle, double startAngle, double endAngle, color, thickness=1, lineType=8, shift=0)
cv2.ellipse(img, center, axes, angle, startAngle, endAngle, color[, thickness[, lineType[, shift]]]) → None</code></pre>

<p>This is just simple if you saw the earlier example of rectangle here we need to understand the arguments</p>

<ol>
<li><code>Mat img</code>: it's the image on which we are desired to draw ellipse.
<li><code>Point center</code>: it is the center of ellipse i.e. the intersection of two axes (Major and Minor)
<li><code>Size axes</code>: this is the size of the ellipse i.e. the major and minor axes length.
<li><code>double angle</code>: its the angle of ellipse with image's X axis.
<li><code>double startAngle, double endAngle </code>: its the starting and ending position of the ellipse I.e. at which angle to start and at what angle to end.
</ol>

<div class="container">
<a href="http://dtchanpura.files.wordpress.com/2013/11/ellipse.png"><img src="http://dtchanpura.files.wordpress.com/2013/11/ellipse.png" width="435" height="259"  /></a>
</div>

<p>From the given image everything will be clear that which axis are primary the angle represents the change of angle in the major axis the start and end angle represents the starting and ending points of the ellipse as shown.</p>

<p>Code is almost the same as just have to put values in place of variables and which will make an Ellipse of your choice.</p>

<p>End of Post</p>

</div>

<div class="sharebuttons">
<!-- Twitter -->
<div style="float:right">
<a href="https://twitter.com/share" class="twitter-share-button" data-via="dtchanpura" data-hashtags="DCprime">Tweet</a>
<script>
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
</script>
</div>
<!-- Facebook<div class="fb-share-button" data-type="button_count" data-annotation=inline></div>
-->

<!-- Google Plus -->
<div style="float:left;">
	<script type="text/javascript" src="https://apis.google.com/js/platform.js"></script>
	<div class="g-plusone" data-size="medium" data-annotation="bubble"></div>
</div><br>
</div>

        <div class="footer">
          <div class="flip-container" ontouchstart="this.classList.toggle('hover');">
            <div class="flipper">
              <div class="front">
                <div class="contact">
                  <center width=200px>Darshil Chanpura<br />Developer:Designer<br />dcprime314@gmail.com<!--</center>-->
                </div>
              </div>
              <div class="back">
                <div class="contact" id="icons">
                  <center width=200px>
                    <a href="mailto:dcprime314@gmail.com"><img src="/logo/gmail-512.png" width=48 alt="Mail to dtchanpura" /></a>
                    <a href="https://github.com/dtchanpura"><img src="/logo/github.png" width=48 alt="Github @dtchanpura" /></a>
                    <a href="http://google.com/+DarshilChanpura"><img src="/logo/google.png" width=48 alt="Google +Darshil Chanpura" /></a><br />
                    <a href="https://twitter.com/dtchanpura"><img src="/logo/twitterICO.png" width=48 alt="Follow @dtchanpura" /></a>
                    <a href="http://facebook.com/dtchanpura"><img src="/logo/facebook.png" width=48 alt="Facebook/dtchanpura" /></a>
                    <!--<a href="irc://irc.freenode.net/dcprime"><img src="/logo/irclogo.png" width=48 alt="IRC #dcprime"/></a>-->
                  </center>
                </div>
              </div>
            </div>
          </div>


        </div>
      </div>
    </div>
    <!-- <a href="https://github.com/dtchanpura"><img style="position: fixed; top: 0; right: 0; border: 0; width: 100px; height: 100px;padding: 0;" src="/images/right-grey@2x.png" alt="Fork me on GitHub"></a> -->
  </body>
</html>
